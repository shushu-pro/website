<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="Content-Security-Policy" content="upgrade-insecure-requests">
    <title>Document</title>
    
    <!-- <script src="https://cdn.bootcdn.net/ajax/libs/moment.js/2.29.1/moment.js"></script> -->
</head>
<body style="margin:0;pading:0">

   

    <script>
        'use strict'
  

    </script>

 <canvas id="canvas" style="border:1px solid #000">
 
 
 </canvas>
 

  <button onclick="changeScale(1)">1倍</button>
   <button onclick="changeScale(2)">2倍</button>
   <button onclick="changeScale(3)">3倍</button>
 <script>
let currentScale = 1
 function changeScale(scale){
	ctx.clearRect(0,0,1000,1000);
	ctx.scale(1/currentScale,1/currentScale)
	 currentScale = scale
	ctx.scale(scale,scale);
	  
	  console.info(currentScale)

 }
 
 
 var canvas = document.getElementById('canvas')
 
 var box = document.querySelector("#canvas");
 
 ctx = box.getContext('2d')
 


 

box.addEventListener("touchstart",function(e){
    console.log("touchstart", e);
	ctx.fillText("Hello shushu!",10,10);
	ctx.rect(e.touches[0].clientX/currentScale , e.touches[0].clientY/currentScale, 10/currentScale, 10/currentScale);
	ctx.fillStyle="green";
	ctx.fill();
	

});

 
 </script>
</body>

</html>
